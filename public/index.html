<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>SCOUT ONLINE</title>

<style>
body {
  margin:0;
  background:#121212;
  font-family:'Segoe UI', sans-serif;
  color:white;
}

/* 상단바 */
#topBar {
  background:#1f1f1f;
  padding:15px 25px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 2px 4px rgba(0,0,0,0.3);
}
#userInfo { font-size:18px; font-weight:bold; color:#ffc85b; }

button {
  padding:10px 18px;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}

#logoutBtn { background:#e74c3c; color:white; }
#logoutBtn:hover { background:#c0392b; }

#adminBtn { background:#3498db; color:white; }
#adminBtn:hover { background:#217dbb; }

/* 페이지 컨테이너 */
#pageContainer {
  width:100%;
  height:calc(100vh - 70px);
  position:relative;
  overflow:hidden;
}

/* 모든 페이지 기본 숨김 */
.page {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  display:none;
  padding:40px;
}

/* START PAGE */
#startPageContent {
  margin-top:150px;
  text-align:center;
}
#makeRoomBtn {
  background:#ff9800;
  padding:18px 45px;
  font-size:26px;
  color:black;
  border-radius:10px;
  font-weight:bold;
}
#makeRoomBtn:hover { background:#f57c00; }

/* ROOM PAGE */
#roomTitle { font-size:32px; margin-bottom:20px; }
#playerList { margin-top:20px; font-size:20px; min-height:150px; }
#copyInviteBtn {
  background:#2ecc71; color:black;
  padding:12px 20px; border-radius:8px;
}
#readyBtn {
  background:#ffa726;
  padding:12px 25px; 
  border-radius:8px;
  margin-top:20px;
}
#startGameBtn {
  background:white; color:black;
  padding:12px 25px;
  border-radius:8px;
  margin-top:20px;
}

/* GAME PAGE */
#roundInfo { font-size:26px; margin-bottom:20px; }
</style>
</head>

<body>

<!-- 상단바 -->
<div id="topBar">
  <div id="userInfo"></div>
  <div>
    <button id="adminBtn">관리자</button>
    <button id="logoutBtn">로그아웃</button>
  </div>
</div>

<!-- 페이지 컨테이너 (여기 내부에서만 화면 전환) -->
<div id="pageContainer">

  <!-- START PAGE -->
  <div id="startPage" class="page">
    <div id="startPageContent">
      <button id="makeRoomBtn">방 만들기</button>
    </div>
  </div>

  <!-- ROOM PAGE -->
  <div id="roomPage" class="page">
    <h2 id="roomTitle">방번호: ----</h2>

    <button id="copyInviteBtn">초대 링크 복사</button>

    <div id="playerList"></div>

    <button id="readyBtn">준비</button>
    <button id="startGameBtn">게임 시작</button>
  </div>

  <!-- GAME PAGE -->
  <div id="gamePage" class="page">
    <h2 id="roundInfo"></h2>
    <div id="gamePlayerList"></div>
    <div id="tableArea"></div>
    <div id="handArea"></div>
  </div>

</div>

<!-- SOCKET -->
<script src="/socket.io/socket.io.js"></script>
<script src="/socket.js"></script>

<script>
// 사용자 표시
const userId = localStorage.getItem("scout_userId");
if (!userId) location.href = "/login.html";

const nickname = userId.split("-")[0];
document.getElementById("userInfo").innerText = `안녕하세요, ${nickname}님`;

// 로그아웃
logoutBtn.onclick = () => {
  localStorage.removeItem("scout_userId");
  location.href = "/login.html";
};

// 관리자 페이지
adminBtn.onclick = () => location.href = "/admin";
</script>

</body>
</html>
