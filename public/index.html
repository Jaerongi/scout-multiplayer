<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>SCOUT ONLINE</title>

<style>
body {
  margin:0;
  background:#121212;
  font-family:'Segoe UI', sans-serif;
  color:white;
}

#topBar {
  background:#1f1f1f;
  padding:15px 25px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 2px 4px rgba(0,0,0,0.3);
}

#userInfo {
  font-size:18px;
  font-weight:bold;
  color:#ffc85b;
}

button {
  padding:10px 18px;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}

#logoutBtn {
  background:#e74c3c;
  color:white;
}
#logoutBtn:hover {
  background:#c0392b;
}

#adminBtn {
  background:#3498db;
  color:white;
}
#adminBtn:hover {
  background:#217dbb;
}

#makeRoomArea {
  margin-top:150px;
  text-align:center;
}

#makeRoomBtn {
  background:#ff9800;
  padding:18px 45px;
  font-size:26px;
  color:black;
  border-radius:10px;
  font-weight:bold;
}
#makeRoomBtn:hover {
  background:#f57c00;
}
</style>

</head>

<body>

<!-- 상단바 -->
<div id="topBar">
  <div id="userInfo"></div>
  <div>
    <button id="adminBtn">관리자</button>
    <button id="logoutBtn">로그아웃</button>
  </div>
</div>

<!-- 메인 콘텐츠 -->
<div id="makeRoomArea">
  <button id="makeRoomBtn">방 만들기</button>
</div>

<!-- 숨겨진 게임 페이지들 -->
<div id="startPage" style="display:none;"></div>
<div id="roomPage" style="display:none;">
  <h2 id="roomTitle"></h2>
  <div id="playerList"></div>
  <button id="startGameBtn">게임 시작</button>
</div>
<div id="gamePage" style="display:none;">
  <h2 id="roundInfo"></h2>
  <div id="gamePlayerList"></div>
  <div id="tableArea"></div>
  <div id="handArea"></div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/socket.js"></script>

<script>
// 로그인 체크
const userId = localStorage.getItem("scout_userId");
if (!userId) location.href = "/login.html";

// 닉네임 표시
const nickname = userId.split("-")[0];
document.getElementById("userInfo").innerText = `안녕하세요, ${nickname}님`;

// 로그아웃
document.getElementById("logoutBtn").onclick = () => {
  localStorage.removeItem("scout_userId");
  location.href = "/login.html";
};

// 관리자 페이지
document.getElementById("adminBtn").onclick = () => {
  location.href = "/admin";
};

// 방 만들기 (socket.js 내부 makeRoomBtn 이벤트 발생)
document.getElementById("makeRoomBtn").onclick = () => {
  makeRoomBtn.click();
};
</script>

</body>
</html>
